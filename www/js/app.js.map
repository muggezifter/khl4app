{"version":3,"sources":["../../src/app.jsx"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["\r\n(function () {\r\n\r\n    /**\r\n     * Settings for the app:\r\n     * url: the url of the khl4server\r\n     * ticks: How many ticks between requests. 1 tick is ~ 500ms\r\n     */\r\n    var settings = {\r\n        url: \"https://khl4.ngrok.io\",\r\n        ticksPerUpdate: 20,\r\n        tickLength: 500\r\n    }\r\n\r\n    /**\r\n     * Root object for the app\r\n     */\r\n    class KhlApp extends React.Component {\r\n        constructor(props) {\r\n            super(props);\r\n            this.state = {\r\n                info: {\r\n                    rec_id: \"[not recording]\",\r\n                    number: \"0000\",\r\n                    time: \"00:00:00\"\r\n                },\r\n                grid: {\r\n                    classname: [\"control\"],\r\n                    id: localStorage.getItem(\"grid_id\") || \"G0001\"\r\n                },\r\n                status: {\r\n                    classname: [\"control\"]\r\n                },\r\n                settings: {\r\n                    classname: [\"control\"]\r\n                },\r\n                levels: [\r\n                    {label: \"--\", level: \"0\"},\r\n                    {label: \"--\", level: \"0\"},\r\n                    {label: \"--\", level: \"0\"}\r\n                ],\r\n                url: localStorage.getItem(\"url\") || settings.url,\r\n                clockIntervalID: 0,\r\n                recStartTime: null,\r\n                tick: 0\r\n            };\r\n        }\r\n        /**\r\n         * Stop and start the clock\r\n         */\r\n        toggleClock() {\r\n            if (this.toggleRec()) {\r\n                // initialize recording\r\n                this.initRec(()=> {\r\n                    this.updatePos();\r\n                    // start the clock\r\n                    this.state.clockIntervalID = setInterval(() => {\r\n                        if (++this.state.tick > settings.ticksPerUpdate) {\r\n                            this.updatePos();\r\n                            this.state.tick = 0;\r\n                        }\r\n                        this.state.info.time = this.getUpdatedTime(this.state.recStartTime);\r\n                        this.setState(this.state);\r\n                    }, settings.tickLength)\r\n                });\r\n            } else {\r\n                // stop the clock\r\n                clearInterval(this.state.clockIntervalID);\r\n                this.endRec(() => {\r\n                    this.setState(this.state);\r\n                });\r\n            }\r\n            this.setState(this.state);\r\n        }\r\n        /**\r\n         * Show/hide the settings control\r\n         */\r\n        toggleSettings() {\r\n            if (this.state.settings.classname.indexOf(\"open\") < 0) {\r\n                this.state.settings.classname.push(\"open\");\r\n            } else {\r\n                this.state.settings.classname = [\"control\"]\r\n            }\r\n            this.setState(this.state);\r\n        }\r\n        /**\r\n         * Stop and start recording\r\n         * @returns {boolean}\r\n         */\r\n        toggleRec() {\r\n            if (this.state.recStartTime === null) {\r\n                // start recording\r\n                this.state.status.classname.push(\"recording\");\r\n                this.state.recStartTime = new Date();\r\n            } else {\r\n                // stop recording\r\n                this.state.status.classname = this.state.status.classname.filter(function (v) {\r\n                    return (v !== \"recording\")\r\n                });\r\n                this.state.levels = this.getZeroLevels();\r\n                this.state.recStartTime = null;\r\n            }\r\n            return (this.state.recStartTime !== null);\r\n        }\r\n        /**\r\n         * Store url from settings\r\n         */\r\n        changeUrlHandler(event) {\r\n            var url = event.target.value;\r\n            localStorage.setItem(\"url\", url);\r\n            this.state.url = url;\r\n            this.setState(this.state);\r\n        }\r\n        /**\r\n         * Store grid name from settings\r\n         */\r\n        changeGridHandler(event) {\r\n            var grid_id = event.target.value;\r\n            localStorage.setItem(\"grid_id\", grid_id);\r\n            this.state.grid.id = grid_id;\r\n            this.setState(this.state);\r\n        }\r\n        /**\r\n         * Start a recording\r\n         */\r\n        initRec(callback) {\r\n            jQuery.getJSON(this.state.url + \"/recording/start?grid=\" + this.state.grid.id + \"&callback=?\")\r\n                .done(data => {\r\n                    this.state.info.rec_id = data.recording_id;\r\n                    callback();\r\n            });\r\n        }\r\n        /**\r\n         * End recording\r\n         */\r\n        endRec(callback) {\r\n            jQuery.getJSON(this.state.url + \"/recording/stop?rec_id=\" + this.state.info.rec_id + \"&callback=?\")\r\n                .done(data => {\r\n                    this.state.grid.classname = [\"control\"];\r\n                    this.state.info.rec_id = \"[not recording]\";\r\n                    callback();\r\n                });\r\n        }\r\n        /**\r\n         * Send current position to the server, receive back the calculated chord\r\n         */\r\n        updatePos() {\r\n            var number = \"0000\" + ( parseInt(this.state.info.number) + 1);\r\n            number = number.substr(number.length - 4);\r\n\r\n            navigator.geolocation.getCurrentPosition(\r\n                pos => {\r\n                    var lon = pos.coords.longitude;\r\n                    var lat = pos.coords.latitude;\r\n                    jQuery.getJSON([\r\n                        this.state.url,\r\n                        \"/recording/node?nr=\", this.state.info.number,\r\n                        \"&rec_id=\", this.state.info.rec_id,\r\n                        \"&grid_id=\", this.state.grid.id,\r\n                        \"&lat=\", lat,\r\n                        \"&lon=\", lon,\r\n                        \"&callback=?\"\r\n                    ].join(\"\"))\r\n                        .done(data => {\r\n                            this.state.grid.classname = this.getGridClassName(data);\r\n                            this.state.levels = this.getLevels(data);\r\n                        })\r\n                }, function (err) {\r\n                    console.warn('ERROR(' + err.code + '): ' + err.message);\r\n                }, {\r\n                    enableHighAccuracy: true,\r\n                    timeout: 5000,\r\n                    maximumAge: 0\r\n                });\r\n            this.state.info.number = number;\r\n        }\r\n        /**\r\n         * Translate the received data (the chord) into class names for the grid control\r\n         * @param data\r\n         */\r\n        getGridClassName(data) { \r\n            return [\"control\"].concat(\r\n                data.filter(v => v.hasOwnProperty(\"note\"))\r\n                    .map(v => \"midi\" + v.note))\r\n        }\r\n        /**\r\n         * Update the levels data in state object\r\n         * @param data\r\n         */\r\n        getLevels(data) { \r\n            return data.filter(v => v.hasOwnProperty(\"note\"))\r\n                .map(v =>({\"label\": this.m2n(v.note), \"level\": 100 / 127 * v.velocity}))\r\n        }\r\n        /**\r\n         * Reset the levels data in state object\r\n         */\r\n        getZeroLevels() { \r\n            return [\r\n                {label: \"--\", level: \"0\"},\r\n                {label: \"--\", level: \"0\"},\r\n                {label: \"--\", level: \"0\"}]\r\n        }\r\n        /**\r\n         * Get the elapsed time since beginning the recordimg\r\n         */\r\n        getUpdatedTime(startTime) { \r\n            return new Date((new Date() - startTime) - 3600000)\r\n                .toTimeString()\r\n                .replace(/.*(\\d{2}:\\d{2}:\\d{2}).*/, \"$1\")\r\n        }\r\n        /**\r\n         * Midi note number to human readable note name\r\n         *\r\n         * @param m\r\n         * @returns {string}\r\n         */\r\n        m2n(m) {\r\n            return ['c', 'c \\u266F', 'd', 'd \\u266F', 'e', 'f', 'f \\u266F', \r\n            'g', 'g \\u266F', 'a', 'a \\u266F', 'b'][m % 12] \r\n        }\r\n        /**\r\n         * Render the componente\r\n         */\r\n        render() {\r\n            return (\r\n                <div className=\"khlApp\">\r\n                    <StatusControl data={ this.state } toggleHandler = { this.toggleClock.bind(this) } toggleSettings = { this.toggleSettings.bind(this) } />\r\n                    <SettingsControl data={ this.state } changeUrlHandler = { this.changeUrlHandler.bind(this) } changeGridHandler = { this.changeGridHandler.bind(this) } />\r\n                    <GridControl data={ this.state } />\r\n                    <LevelControl data = { this.state} />\r\n                    <InfoControl data={ this.state } />\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Status component: has start toggle and status indicators\r\n     */\r\n    class StatusControl extends React.Component {\r\n        render() {\r\n            return (\r\n                <div id=\"status\" className={ this.props.data.status.classname.join(\" \") }>\r\n                    <div>\r\n                        <button id=\"toggle_rec\" onClick={ this.props.toggleHandler }></button>\r\n                    </div>\r\n                    <StatusIndicator params={{label: \"rec\", id: \"rec_indicator\"}} />\r\n                {/*<StatusIndicator params={{label: \"send\", id: \"send_indicator\"}} />*/}\r\n                    <div>\r\n                        <SettingsToggleButton toggleHandler={ this.props.toggleSettings }/>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Status indicator: takes 2 params: label and id\r\n     */\r\n    class StatusIndicator extends React.Component {\r\n        render() {\r\n            return (\r\n                <div id= { this.props.params.id } className=\"indicator\">\r\n                    <svg viewBox=\"0 0 10 10\">\r\n                        <circle cx=\"5\" cy=\"5\" r=\"4\"/>\r\n                    </svg>\r\n                    <span className=\"label\">{ this.props.params.label }</span>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Button for toggling the visibility of the settings area\r\n     */\r\n    class SettingsToggleButton extends React.Component {\r\n        render() {\r\n            return (\r\n                <button id=\"toggle_settings\"  onClick={ this.props.toggleHandler }>\r\n                    <svg viewBox=\"0 0 25 25\" >\r\n                        <path d=\"M20,14.5v-2.9l-1.8-0.3c-0.1-0.4-0.3-0.8-0.6-1.4l1.1-1.5l-2.1-2.1l-1.5,1.1c-0.5-0.3-1-0.5-1.4-0.6L13.5,5h-2.9l-0.3,1.8\r\n\tC9.8,6.9,9.4,7.1,8.9,7.4L7.4,6.3L5.3,8.4l1,1.5c-0.3,0.5-0.4,0.9-0.6,1.4L4,11.5v2.9l1.8,0.3c0.1,0.5,0.3,0.9,0.6,1.4l-1,1.5\r\n\tl2.1,2.1l1.5-1c0.4,0.2,0.9,0.4,1.4,0.6l0.3,1.8h3l0.3-1.8c0.5-0.1,0.9-0.3,1.4-0.6l1.5,1.1l2.1-2.1l-1.1-1.5c0.3-0.5,0.5-1,0.6-1.4\r\n\tL20,14.5z M12,16c-1.7,0-3-1.3-3-3s1.3-3,3-3s3,1.3,3,3S13.7,16,12,16z\"/>\r\n                    </svg>\r\n                </button>\r\n            );\r\n        }\r\n    }\r\n\r\n    class SettingsControl extends React.Component {\r\n        render() {\r\n            return (\r\n                <div id=\"settings\" className={ this.props.data.settings.classname.join(\" \") }>\r\n                   <UrlInputControl data={ this.props.data } changeUrlHandler={ this.props.changeUrlHandler } />\r\n                   <GridInputControl data={ this.props.data } changeGridHandler={ this.props.changeGridHandler } />\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    class UrlInputControl extends React.Component {\r\n        render() {\r\n            return (\r\n                <input type=\"text\" id=\"server_url\" value={ this.props.data.url }  onChange={ this.props.changeUrlHandler } />\r\n            );\r\n        }\r\n    }\r\n\r\n    class GridInputControl extends React.Component {\r\n        render() {\r\n            return (\r\n                <input type=\"text\" id=\"grid_id\" value={ this.props.data.grid.id }  onChange={ this.props.changeGridHandler } />\r\n            );\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Grid component, visual feedback\r\n     */\r\n    class GridControl extends  React.Component {\r\n        render() {\r\n            return (\r\n                <div id=\"grid\" className={ this.props.data.grid.classname.join(\" \") }>\r\n                    <svg viewBox=\"0 0 264 128\">\r\n                        <polyLine points=\"192,12 12,12 42,64 72,12 102,64 132,12 162,64 192,12\r\n                        222,64 42,64 72,116 102,64 132,116 162,64 192,116 222,64 252,116 72,116\"/>\r\n\r\n                        <circle id=\"c1\" cx=\"12\" cy=\"12\" r=\"10\"/>\r\n                        <circle id=\"c2\" cx=\"72\" cy=\"12\" r=\"10\"/>\r\n                        <circle id=\"c3\" cx=\"132\" cy=\"12\" r=\"10\"/>\r\n                        <circle id=\"c4\" cx=\"192\" cy=\"12\" r=\"10\"/>\r\n\r\n                        <circle id=\"c5\" cx=\"42\" cy=\"64\" r=\"10\"/>\r\n                        <circle id=\"c6\" cx=\"102\" cy=\"64\" r=\"10\"/>\r\n                        <circle id=\"c7\" cx=\"162\" cy=\"64\" r=\"10\"/>\r\n                        <circle id=\"c8\" cx=\"222\" cy=\"64\" r=\"10\"/>\r\n\r\n                        <circle id=\"c9\" cx=\"72\" cy=\"116\" r=\"10\"/>\r\n                        <circle id=\"c10\" cx=\"132\" cy=\"116\" r=\"10\"/>\r\n                        <circle id=\"c11\" cx=\"192\" cy=\"116\" r=\"10\"/>\r\n                        <circle id=\"c12\" cx=\"252\" cy=\"116\" r=\"10\"/>\r\n                    </svg>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    class LevelControl extends  React.Component {\r\n        render() {\r\n            return (\r\n                <div id=\"level\" className=\"control level\">\r\n                    <LevelBar params={{\r\n                        label: this.props.data.levels[0].label,\r\n                        level: this.props.data.levels[0].level\r\n                    }}  />\r\n                    <LevelBar params={{\r\n                        label: this.props.data.levels[1].label,\r\n                        level: this.props.data.levels[1].level\r\n                    }}  />\r\n                    <LevelBar params={{\r\n                        label: this.props.data.levels[2].label,\r\n                        level: this.props.data.levels[2].level\r\n                    }}  />\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    class LevelBar extends  React.Component {\r\n        render() {\r\n            return (\r\n                <div className=\"bar\">\r\n                    <span className=\"label\">{ this.props.params.label }</span>\r\n                    <div className=\"outer\">\r\n                        <div className=\"inner\" style={{width: this.props.params.level + \"%\"}}></div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Info component, textual feedback\r\n     */\r\n    class InfoControl extends  React.Component {\r\n        render() {\r\n            return (\r\n                <div id=\"info\" className=\"control dark\">\r\n                    <div id=\"rec_id\">id: {this.props.data.info.rec_id}</div>\r\n                    <div id=\"number\">{this.props.data.info.number}</div>\r\n                    <div id=\"time\">{this.props.data.info.time}</div>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    ReactDOM.render(\r\n        <KhlApp />,\r\n        document.getElementById('container')\r\n    );\r\n\r\n}());\r\n\r\n"]}